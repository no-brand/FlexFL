{
    "title": "Wrong code generated if mixing types in ternary operator",
    "description": "What steps will reproduce the problem?\n1. Use Google Closure Compiler to compile this code:\r\n\r\n    var a =(Math.random()>0.5? '1' : 2 ) + 3 + 4;\r\n\r\nYou can either simple or advanced. It doesn't matter\r\n\r\n\r\nWhat is the expected output? What do you see instead?\n\r\nI'm seeing this as a result:\r\n    var a = (0.5 < Math.random() ? 1 : 2) + 7;\r\n\r\nThis is obviously wrong as the '1' string literal got converted to a number, and 3+4 got combined into 7 while that's not ok as '1' + 3 + 4 = '134', not '17'.\r\n\r\nWhat version of the product are you using? On what operating system?\nPlease provide any additional information below.\n\r\nSeems like this issue happens only when you are mixing types together. If both 1 and 2 are string literals or if they are both numbers it won't happen. I was also a little surprised to see this happening in simple mode as it actually breaks the behavior."
}